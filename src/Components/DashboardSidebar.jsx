import {
  Box,
  Button,
  HStack,
  Icon,
  Link,
  Text,
  VStack,
} from "@chakra-ui/react";
import { useState } from "react";
import { FiChevronLeft, FiChevronRight } from "react-icons/fi";

const hoverProps = {
  cursorr: "pointer",
  bg: "orange.100",
};

const SidebarItem = ({ name, icon, flexDir, textSize, styleProps }) => {
  return (
    <>
      <Link href="#" _hover={hoverProps} width="100%">
        <Box
          display={"flex"}
          flexDir={flexDir}
          alignItems={"center"}
          width="100%"
          px = "3px"
          pt = "3px"
          {...styleProps}
        >
          <Icon as={icon} />
          <Text fontSize={textSize} maxWidth={"100%"} textAlign={"center"}>
            {name}
          </Text>
        </Box>
      </Link>
    </>
  );
};

const FullSidebarContent = ({ options }) => {
  return (
    <VStack width={"15vw"} height={"100%"} bg={"white"}>
      {options.map((opt, i) => (
        <SidebarItem
          key={i}
          name={opt.name}
          icon={opt.icon}
          flexDir={"row"}
          textSize={"xl"}
          styleProps={{
            gap: "40px",
            py: "10px",
            pl: "10px",
          }}
        />
      ))}
    </VStack>
  );
};

const SmallSidebarContent = ({ options }) => {
  return (
    <VStack height={"100%"} bg="white">
      {options.map((opt, i) => (
        <SidebarItem
          key={i}
          name={opt.name}
          icon={opt.icon}
          flexDir={"column"}
          textSize={"11px"}
          styleProps={{
            py: "5px",
          }}
        />
      ))}
    </VStack>
  );
};

const DashboardSidebar = () => {
  const options = [
    {
      name: "Dashboard",
      icon: () => (
        <svg
          width="22"
          height="25"
          viewBox="0 0 24 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="sidebar-icon"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M2.656 9.296C1.95158 9.296 1.27602 9.01617 0.777924 8.51807C0.279828 8.01998 0 7.34441 0 6.64V2.656C0 1.95158 0.279828 1.27602 0.777924 0.777924C1.27602 0.279828 1.95158 0 2.656 0H7.968C8.67241 0 9.34798 0.279828 9.84608 0.777924C10.3442 1.27602 10.624 1.95158 10.624 2.656V6.64C10.624 7.34441 10.3442 8.01998 9.84608 8.51807C9.34798 9.01617 8.67241 9.296 7.968 9.296H2.656ZM2.656 26.56C1.95158 26.56 1.27602 26.2802 0.777924 25.7821C0.279828 25.284 0 24.6084 0 23.904V13.28C0 12.5756 0.279828 11.9 0.777924 11.4019C1.27602 10.9038 1.95158 10.624 2.656 10.624H7.968C8.67241 10.624 9.34798 10.9038 9.84608 11.4019C10.3442 11.9 10.624 12.5756 10.624 13.28V23.904C10.624 24.6084 10.3442 25.284 9.84608 25.7821C9.34798 26.2802 8.67241 26.56 7.968 26.56H2.656ZM15.936 26.56C15.2316 26.56 14.556 26.2802 14.0579 25.7821C13.5598 25.284 13.28 24.6084 13.28 23.904V21.248C13.28 20.5436 13.5598 19.868 14.0579 19.3699C14.556 18.8718 15.2316 18.592 15.936 18.592H21.248C21.9524 18.592 22.628 18.8718 23.1261 19.3699C23.6242 19.868 23.904 20.5436 23.904 21.248V23.904C23.904 24.6084 23.6242 25.284 23.1261 25.7821C22.628 26.2802 21.9524 26.56 21.248 26.56H15.936ZM15.936 15.936C15.2316 15.936 14.556 15.6562 14.0579 15.1581C13.5598 14.66 13.28 13.9844 13.28 13.28V2.656C13.28 1.95158 13.5598 1.27602 14.0579 0.777924C14.556 0.279828 15.2316 0 15.936 0H21.248C21.9524 0 22.628 0.279828 23.1261 0.777924C23.6242 1.27602 23.904 1.95158 23.904 2.656V13.28C23.904 13.9844 23.6242 14.66 23.1261 15.1581C22.628 15.6562 21.9524 15.936 21.248 15.936H15.936Z"
            fill="black"
          ></path>
        </svg>
      ),
    },
    {
      name: "Profile",
      icon: () => (
        <svg
          width="23"
          height="27"
          viewBox="0 0 23 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="sidebar-icon"
        >
          <path
            d="M11.4253 13.3295C15.2242 13.3295 18.09 10.4637 18.09 6.66475C18.09 2.86584 15.2242 0 11.4253 0C7.62638 0 4.76054 2.86584 4.76054 6.66475C4.76054 10.4637 7.62638 13.3295 11.4253 13.3295ZM13.3295 15.1347H9.52108C4.27116 15.1347 0 19.4059 0 24.6558V26.56H22.8506V24.6558C22.8506 19.4059 18.5794 15.1347 13.3295 15.1347Z"
            fill="black"
          ></path>
        </svg>
      ),
    },
    {
      name: "Courses",
      icon: () => (
        <svg
          width="27"
          height="27"
          viewBox="0 0 27 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="sidebar-icon"
        >
          <path
            d="M6.97453 0H1.51029C1.10974 0 0.725588 0.159114 0.442353 0.442349C0.159118 0.725583 0 1.10974 0 1.51029V25.0316C0 25.4321 0.159118 25.8163 0.442353 26.0995C0.725588 26.3828 1.10974 26.5419 1.51029 26.5419H6.97453C7.37508 26.5419 7.75923 26.3828 8.04247 26.0995C8.3257 25.8163 8.48482 25.4321 8.48482 25.0316V1.50425C8.48322 1.10474 8.3234 0.72214 8.04034 0.44021C7.75728 0.158281 7.37404 -3.19604e-06 6.97453 0ZM7.00474 22.156C6.94997 22.2117 6.88461 22.2559 6.8125 22.286C6.7404 22.3161 6.66301 22.3314 6.58488 22.3312H1.89995C1.78377 22.3273 1.67117 22.2901 1.57565 22.2238C1.48013 22.1576 1.40575 22.0652 1.36142 21.9577C1.3171 21.8503 1.30472 21.7323 1.32577 21.618C1.34682 21.5037 1.4004 21.3979 1.48008 21.3132C1.53465 21.2573 1.59997 21.2129 1.67212 21.1828C1.74427 21.1526 1.82177 21.1374 1.89995 21.138H6.58488C6.7451 21.138 6.89876 21.2017 7.01205 21.315C7.12535 21.4283 7.18899 21.5819 7.18899 21.7422C7.18762 21.82 7.17059 21.8967 7.13894 21.9678C7.10728 22.0389 7.06164 22.1029 7.00474 22.156ZM7.00474 19.7576C6.94997 19.8134 6.88461 19.8576 6.8125 19.8876C6.7404 19.9177 6.66301 19.9331 6.58488 19.9328H1.89995C1.78377 19.929 1.67117 19.8917 1.57565 19.8255C1.48013 19.7592 1.40575 19.6669 1.36142 19.5594C1.3171 19.4519 1.30472 19.334 1.32577 19.2197C1.34682 19.1053 1.4004 18.9995 1.48008 18.9149C1.53465 18.8589 1.59997 18.8145 1.67212 18.7844C1.74427 18.7543 1.82177 18.7391 1.89995 18.7397H6.58488C6.7451 18.7397 6.89876 18.8034 7.01205 18.9167C7.12535 19.0299 7.18899 19.1836 7.18899 19.3438C7.18762 19.4216 7.17059 19.4984 7.13894 19.5695C7.10728 19.6406 7.06164 19.7046 7.00474 19.7576ZM7.00474 4.28319C6.94997 4.3389 6.88461 4.3831 6.8125 4.41319C6.7404 4.44328 6.66301 4.45864 6.58488 4.45838H1.89995C1.73972 4.45838 1.58607 4.39473 1.47277 4.28144C1.35948 4.16814 1.29583 4.01448 1.29583 3.85426C1.29583 3.69404 1.35948 3.54038 1.47277 3.42708C1.58607 3.31379 1.73972 3.25014 1.89995 3.25014H6.58488C6.70105 3.25398 6.81365 3.29126 6.90917 3.3575C7.00469 3.42374 7.07907 3.51613 7.1234 3.62359C7.16772 3.73104 7.1801 3.849 7.15905 3.96332C7.13801 4.07764 7.08442 4.18346 7.00474 4.26809V4.28319Z"
            fill="black"
          ></path>
          <path
            d="M16.0302 5.41591H10.566C10.1655 5.41591 9.7813 5.57503 9.49807 5.85826C9.21484 6.1415 9.05571 6.52564 9.05571 6.9262V25.0497C9.05571 25.4503 9.21484 25.8344 9.49807 26.1176C9.7813 26.4009 10.1655 26.56 10.566 26.56H16.0302C16.4308 26.56 16.8149 26.4009 17.0982 26.1176C17.3814 25.8344 17.5405 25.4503 17.5405 25.0497V6.9262C17.5405 6.52564 17.3814 6.1415 17.0982 5.85826C16.8149 5.57503 16.4308 5.41591 16.0302 5.41591ZM16.0604 22.7631C16.0057 22.8188 15.9403 22.863 15.8682 22.8931C15.7961 22.9232 15.7187 22.9386 15.6406 22.9383H10.9557C10.7954 22.9383 10.6418 22.8747 10.5285 22.7614C10.4152 22.6481 10.3515 22.4944 10.3515 22.3342C10.3515 22.174 10.4152 22.0203 10.5285 21.907C10.6418 21.7937 10.7954 21.7301 10.9557 21.7301H15.6406C15.7568 21.7339 15.8694 21.7712 15.9649 21.8374C16.0604 21.9037 16.1348 21.9961 16.1791 22.1035C16.2234 22.211 16.2358 22.3289 16.2148 22.4433C16.1937 22.5576 16.1401 22.6634 16.0604 22.748V22.7631ZM16.0604 9.12518C16.0057 9.1809 15.9403 9.2251 15.8682 9.25519C15.7961 9.28527 15.7187 9.30064 15.6406 9.30037H10.9557C10.7954 9.30037 10.6418 9.23673 10.5285 9.12343C10.4152 9.01014 10.3515 8.85648 10.3515 8.69626C10.3515 8.53604 10.4152 8.38238 10.5285 8.26909C10.6418 8.1558 10.7954 8.09214 10.9557 8.09214H15.6406C15.7568 8.09598 15.8694 8.13326 15.9649 8.19949C16.0604 8.26573 16.1348 8.35813 16.1791 8.46558C16.2234 8.57304 16.2358 8.691 16.2148 8.80532C16.1937 8.91963 16.1401 9.02546 16.0604 9.11009V9.12518Z"
            fill="black"
          ></path>
          <path
            d="M25.086 0H19.6217C19.2212 0 18.837 0.159114 18.5538 0.442349C18.2705 0.725583 18.1114 1.10974 18.1114 1.51029V25.0316C18.1114 25.4321 18.2705 25.8163 18.5538 26.0995C18.837 26.3828 19.2212 26.5419 19.6217 26.5419H25.086C25.4865 26.5419 25.8707 26.3828 26.1539 26.0995C26.4371 25.8163 26.5963 25.4321 26.5963 25.0316V1.50425C26.5947 1.10474 26.4348 0.72214 26.1518 0.44021C25.8687 0.158281 25.4855 -3.19604e-06 25.086 0ZM25.1162 22.156C25.0614 22.2117 24.996 22.2559 24.9239 22.286C24.8518 22.3161 24.7744 22.3314 24.6963 22.3312H20.0114C19.8952 22.3273 19.7826 22.2901 19.6871 22.2238C19.5916 22.1576 19.5172 22.0652 19.4729 21.9577C19.4285 21.8503 19.4162 21.7323 19.4372 21.618C19.4582 21.5037 19.5118 21.3979 19.5915 21.3132C19.6461 21.2573 19.7114 21.2129 19.7836 21.1828C19.8557 21.1526 19.9332 21.1374 20.0114 21.138H24.6963C24.8565 21.138 25.0102 21.2017 25.1235 21.315C25.2368 21.4283 25.3004 21.5819 25.3004 21.7422C25.299 21.82 25.282 21.8967 25.2504 21.9678C25.2187 22.0389 25.1731 22.1029 25.1162 22.156ZM25.1162 19.7576C25.0614 19.8134 24.996 19.8576 24.9239 19.8876C24.8518 19.9177 24.7744 19.9331 24.6963 19.9328H20.0114C19.8952 19.929 19.7826 19.8917 19.6871 19.8255C19.5916 19.7592 19.5172 19.6669 19.4729 19.5594C19.4285 19.4519 19.4162 19.334 19.4372 19.2197C19.4582 19.1053 19.5118 18.9995 19.5915 18.9149C19.6461 18.8589 19.7114 18.8145 19.7836 18.7844C19.8557 18.7543 19.9332 18.7391 20.0114 18.7397H24.6963C24.8565 18.7397 25.0102 18.8034 25.1235 18.9167C25.2368 19.0299 25.3004 19.1836 25.3004 19.3438C25.299 19.4216 25.282 19.4984 25.2504 19.5695C25.2187 19.6406 25.1731 19.7046 25.1162 19.7576ZM25.1162 4.28319C25.0614 4.3389 24.996 4.3831 24.9239 4.41319C24.8518 4.44328 24.7744 4.45864 24.6963 4.45838H20.0114C19.8512 4.45838 19.6975 4.39473 19.5842 4.28144C19.4709 4.16814 19.4073 4.01448 19.4073 3.85426C19.4073 3.69404 19.4709 3.54038 19.5842 3.42708C19.6975 3.31379 19.8512 3.25014 20.0114 3.25014H24.6963C24.8125 3.25398 24.9251 3.29126 25.0206 3.3575C25.1161 3.42374 25.1905 3.51613 25.2348 3.62359C25.2791 3.73104 25.2915 3.849 25.2705 3.96332C25.2494 4.07764 25.1958 4.18346 25.1162 4.26809V4.28319Z"
            fill="black"
          ></path>
        </svg>
      ),
    },
    {
      name: "Wishlist",
      icon: () => (
        <svg
          width="24"
          height="27"
          viewBox="0 0 24 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="sidebar-icon"
        >
          <path
            d="M3.58136 21.2876C3.7613 21.2461 3.94562 21.2267 4.13026 21.2298C5.91039 21.2298 7.69051 21.2298 9.47063 21.2298H23.7125C23.7737 21.2298 23.8353 21.2298 23.8966 21.2298V2.4046C23.8835 2.38445 23.8737 2.36236 23.8674 2.33916C23.8173 1.8629 23.6312 1.41114 23.3312 1.03784C22.906 0.494854 22.3449 0.174803 21.6672 0.0557344C21.5895 0.0422231 21.5097 0.0396897 21.4316 0.0287117C21.3934 0.0212359 21.3556 0.0116506 21.3184 0H3.92252C3.88558 0.0127039 3.84757 0.0220311 3.80894 0.0278671C3.19881 0.0635963 2.60292 0.2267 2.05964 0.506677C1.32918 0.886684 0.76846 1.43558 0.412942 2.18293C0.252887 2.51867 0.145779 2.87717 0.0954241 3.24569C0.0722015 3.41669 0.0624902 3.58981 0.0464454 3.76165C0.0418009 3.81105 0.049401 3.8651 0 3.8993V22.6611C0.0570011 22.7067 0.0451787 22.7722 0.0468676 22.83C0.0547089 23.1441 0.10079 23.456 0.184093 23.7589C0.44672 24.725 1.01589 25.458 1.87766 25.9651C2.35344 26.2397 2.8767 26.4222 3.42007 26.503C3.52267 26.5195 3.62781 26.5212 3.73167 26.5326C3.78108 26.538 3.82921 26.5507 3.87819 26.56H23.8961V23.9177C23.8569 23.9206 23.8176 23.9265 23.7783 23.9265H4.00992C3.80759 23.9274 3.60666 23.8929 3.41627 23.8244C2.99699 23.6732 2.76054 23.3667 2.68243 22.9377C2.63533 22.6851 2.6392 22.4257 2.69383 22.1747C2.80108 21.6887 3.10762 21.405 3.58136 21.2876ZM16.1241 2.65203C16.4733 2.65246 16.815 2.75343 17.1084 2.94286C17.4018 3.13229 17.6344 3.40218 17.7784 3.72027C17.8881 3.47811 18.0496 3.26298 18.2515 3.09009C18.4535 2.91719 18.6909 2.79075 18.9471 2.71969C19.2032 2.64864 19.4719 2.6347 19.734 2.67887C19.9962 2.72303 20.2454 2.82423 20.4641 2.9753C20.6829 3.12637 20.8658 3.32364 20.9999 3.55315C21.134 3.78267 21.2161 4.03884 21.2404 4.30357C21.2646 4.5683 21.2305 4.83512 21.1403 5.08519C21.0501 5.33526 20.9061 5.56248 20.7184 5.75078L17.8452 8.60548C17.8286 8.62173 17.8063 8.63083 17.7831 8.63083C17.7599 8.63083 17.7376 8.62173 17.721 8.60548L14.9503 5.85296C14.8775 5.79119 14.8098 5.7237 14.7477 5.65114C14.5212 5.38768 14.3751 5.06478 14.3266 4.72076C14.2782 4.37673 14.3295 4.02604 14.4744 3.71029C14.6193 3.39455 14.8518 3.127 15.1442 2.93942C15.4366 2.75184 15.7767 2.6521 16.1241 2.65203Z"
            fill="black"
          ></path>
        </svg>
      ),
    },
    {
      name: "Liked Videos",
      icon: () => (
        <svg
          width="22"
          height="20"
          viewBox="0 0 22 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="sidebar-icon"
        >
          <path
            d="M2.10526 20H3.15789V6.31579H2.10526C1.54691 6.31579 1.01143 6.53759 0.616617 6.93241C0.221804 7.32722 0 7.8627 0 8.42105V17.8947C0 18.4531 0.221804 18.9886 0.616617 19.3834C1.01143 19.7782 1.54691 20 2.10526 20ZM18.9474 6.31579H11.5789L12.76 2.77053C12.8654 2.45412 12.8941 2.11721 12.8438 1.78753C12.7934 1.45786 12.6655 1.14486 12.4705 0.87431C12.2755 0.603764 12.019 0.383413 11.7222 0.231406C11.4254 0.0793993 11.0967 8.64345e-05 10.7632 0H10.5263L5.26316 5.72421V20H16.8421L20.96 10.9516L21.0526 10.5263V8.42105C21.0526 7.8627 20.8308 7.32722 20.436 6.93241C20.0412 6.53759 19.5057 6.31579 18.9474 6.31579Z"
            fill="black"
          ></path>
        </svg>
      ),
    },
  ];

  const [showFull, setShowFull] = useState(false);

  return (
    <>
      <HStack alignItems={"left"} pt="1vh" height="100%" bg={"#f2f5fa"} spacing = "0" >
        <Button
          onClick={(e) => {
            e.preventDefault();
            setShowFull(!showFull);
          }}
          bg={"white"}
          maxWidth={"fit-content"}
          _hover={""}
          _active={""}
          borderRadius={"0"}
        >
          {showFull ? <FiChevronRight /> : <FiChevronLeft />}
        </Button>
        {showFull ? (
          <FullSidebarContent options={options} />
        ) : (
          <SmallSidebarContent options={options} />
        )}
      </HStack>
    </>
  );
};

export default DashboardSidebar;
